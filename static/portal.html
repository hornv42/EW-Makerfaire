<!DOCTYPE html>
<html>

<head>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link href="css/makerstyle.css" rel="stylesheet" type="text/css" />
  <title>EW Makerfaire IoT Hunt Portal</title>
  <h1>Valencia College's Embedded Workshop</h1>
  <h2>Makerfaire IoT Scavenger Hunt</h2>
  <h3>Welcome Embedded People!</h3>
</head>

<body>
  <p class="title">Station Management Controls:</p>
  <button class="collapsible">Station Creation</button>
  <div class="content">
    <form id="createStaForm">
      <fieldset>
        Station Number:<br />
        <input type="number" name="stationID" min="1" max="5000" required />
        <br><br>
        Station Name:<br />
        <input type="text" name="name" value="" />
        <br><br>
        Location: X Value<br>
        <input type="number" name="x_val" min="1" max="1024" />
        <br><br>
        Location: Y Value<br>
        <input type="number" name="y_val" min="1" max="1024" />
        <br><br>
        Question:<br>
        <input type="text" name="question" value="" />
        <br><br>
        Answer:<br>
        <input type="number" name="answer" min="1" max="9999" /><br>
        (number)<br>
        <br>
        <input type="submit" value="Submit" />
        <br><br>
      </fieldset>
    </form>
  </div>
  <br>
  <button class="collapsible">Station Update</button>
  <div class="content">
    <form id="updateStaForm">
      <fieldset>
        Station ID:<br>
        <input type="number" name="stationID" min="1" max="5000" required />
        <br><br>
        Change Station Name:<br>
        <input type="text" name="name" value="" />
        <br><br>
        Update Location: X Value<br>
        <input type="number" name="x_val" min="1" max="1024" />
        <br><br>
        Update Location: Y Value<br>
        <input type="number" name="y_val" min="1" max="1024" />
        <br><br>
        Update Question:<br>
        <input type="text" name="question" value="" />
        <br><br>
        Update Answer:<br>
        <input type="number" name="answer" min="1" max="9999" /><br>
        (number)<br>
        <br>
        <input type="submit" value="Submit" />
        <br><br>
      </fieldset>
    </form>
  </div>
  <br>

  <p class="title">User Management Controls:</p>
  <button type="button" class="collapsible">Create User</button>
  <div class="content">
    <form id="createUserForm">
      <fieldset>
        New User ID:<br>
        <input type="number" name="userID" min="1" max="5000" required /><br>
        (4 digits)
        <br><br>
        Nickname:<br>
        <input type="text" name="nickName" value="" />
        <br><br>
        <input type="submit" value="Submit" />
      </fieldset>
    </form>
    <p id="check"></p>
  </div>
  <button type="button" class="collapsible">Update User</button>
  <div class="content">
    <form id="updateUserForm">
      <fieldset>
        User ID:<br>
        <input type="number" name="userID" min="1" max="5000" required /><br>
        (4 digits)
        <br><br>
        Update Nickname:<br>
        <input type="text" name="nickName" value="" />
        <br><br>
        <input type="submit" value="Submit" />
      </fieldset>
    </form>
    <p id="check"></p>
  </div>
  <button type="button" class="collapsible">Reset User Station Attempts</button>
  <div class="content">
    <form id="resetAttemptForm">
      <fieldset>
        User ID:<br>
        <input type="number" name="userID" min="1" max="5000" required />
        <br><br>
        Station ID:<br>
        <input type="number" name="stationID" min="1" max="5000" required />
        <br><br>
        Reset User Attempts
        <input type="submit" value="Reset" />
        <br><br>
      </fieldset>
    </form>
  </div>
  <br>

  <p class="title">Session Management Controls:</p>
  <button type="button" class="collapsible">Enable Session</button>
  <div class="content">
    <form id="setSessionForm">
      <fieldset>
        <label>Select Session:</label>
        <br><br>
        <label for "session1">Session 1</label>
        <input type="radio" name="sessionID" value="1" id="sessionID"/>
        <br><br>
        <label id="myLabel" for "session2">Session 2</label>
        <input type="radio" name="sessionID" value="2" id="sessionID" />
        <br><br>
        <input type="submit" value="Submit" />
        <br><br>
      </fieldset>
    </form>
  </div>
  <br>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>

  <script type="text/javascript">
    function SubmitAndUpdate(form, url, respText) {
      $.ajax(
        {
          type: 'POST',
          url: url,
          success: function (resp) {
            alert("Success: " + resp);
            $(respText).html(String(resp));
          },
          error: function (xhr, _, _) { //jquery XML HTTP Response, textStatus, error thrown.
            alert(xhr.responseText);
          },
          data: $(form).serialize()
        });
    }
      $(document).ready(function () {
        $("#createStaForm").submit(function (event) {
          event.preventDefault();
          SubmitAndUpdate("#createStaForm", "/createStation", "#responseThing")
        });

        $("#updateStaForm").submit(function (event) {
          event.preventDefault();
          SubmitAndUpdate("#updateStaForm", "/updateStation", "#responseThing")
        });

        $("#createUserForm").submit(function (event) {
          event.preventDefault();
          SubmitAndUpdate("#createUserForm", "/createUser", "#responseThing")
        });

        $("#updateUserForm").submit(function (event) {
          event.preventDefault();
          SubmitAndUpdate("#updateUserForm", "/updateUser", "#responseThing")
        });

        $("#resetAttemptForm").submit(function (event) {
          event.preventDefault();
          SubmitAndUpdate("#resetAttemptForm", "/deleteResult", "#responseThing")
        });

        $("#setSessionForm").submit(function (event) {
          event.preventDefault();
          SubmitAndUpdate("#setSessionForm", "/session", "#responseThing")
        });
      });
  </script>

  <script src="scripts/collapse.js"></script>
</body>
<br>

<footer>
</footer>

</html>